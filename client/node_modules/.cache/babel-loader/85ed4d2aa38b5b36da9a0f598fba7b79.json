{"ast":null,"code":"var _jsxFileName = \"/Users/emmanuelogbewe/coding/web_apps/vimation/client/src/transactions/index.js\";\nimport React, { Component } from 'react';\nimport TransactionsTable from './Table';\nimport { Button, Modal } from 'antd';\nimport TransactionForm from './Form';\n\nclass TransactionPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.showModal = () => {\n      this.setState({\n        visible: true\n      });\n    };\n\n    this.handleOk = e => {\n      console.log(e);\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.handleCancel = () => {\n      this.setState({\n        visible: false\n      });\n    };\n\n    this.state = {\n      showLoader: true,\n      visible: false,\n      users: [],\n      transactions: []\n    };\n  }\n\n  componentDidMount() {\n    var usersUrl = \"http://localhost:4000/users\";\n    var transactionsUrl = \"http://localhost:4000/transactions\"; //fetch users\n\n    fetch(usersUrl).then(response => response.json()).then(data => {\n      this.setState({\n        users: data.users\n      });\n    });\n    fetch(transactionsUrl).then(response => response.json()).then(data => {\n      console.log(data);\n      this.setState({\n        transactions: data.transactions.map(tr => {\n          return {\n            description: `from ${tr.from} to ${tr.to}`,\n            amount: tr.amount,\n            timestamp: tr.timestamp\n          };\n        })\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: styles.pageWrapper,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      onClick: this.showModal,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 17\n      }\n    }, \"New Transaction\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 19\n      }\n    }), /*#__PURE__*/React.createElement(TransactionsTable, {\n      dataSource: this.dataSource,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Modal, {\n      title: \"New Transaction\",\n      visible: this.state.visible,\n      onOk: this.handleOk,\n      onCancel: this.handleCancel,\n      footer: [],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(TransactionForm, {\n      users: this.state.users,\n      onClear: this.handleCancel,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    })));\n  }\n\n}\n\nexport default TransactionPage;\nconst styles = {\n  pageWrapper: {\n    display: 'flex',\n    flexDirection: 'column',\n    padding: '0 2.2em',\n    height: '100%',\n    width: '100%'\n  }\n};","map":{"version":3,"sources":["/Users/emmanuelogbewe/coding/web_apps/vimation/client/src/transactions/index.js"],"names":["React","Component","TransactionsTable","Button","Modal","TransactionForm","TransactionPage","constructor","props","showModal","setState","visible","handleOk","e","console","log","handleCancel","state","showLoader","users","transactions","componentDidMount","usersUrl","transactionsUrl","fetch","then","response","json","data","map","tr","description","from","to","amount","timestamp","render","styles","pageWrapper","dataSource","display","flexDirection","padding","height","width"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport TransactionsTable from './Table'\nimport { Button,  Modal } from 'antd';\nimport TransactionForm from './Form'\n\nclass TransactionPage extends Component {\n\n  constructor(props){\n      super(props);\n\n      this.state = {\n          showLoader : true ,\n          visible : false,\n          users : [],\n          transactions : []\n      }\n      \n  }\n\n  componentDidMount() {\n    var usersUrl = \"http://localhost:4000/users\";\n    var transactionsUrl = \"http://localhost:4000/transactions\"\n\n    //fetch users\n    fetch(usersUrl)\n    .then(response => response.json())\n    .then(data => {\n      this.setState(\n          { users : data.users }\n        )\n    })\n    fetch(transactionsUrl)\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n      this.setState({\n        transactions : data.transactions.map(tr => {\n          return {\n            description : `from ${tr.from} to ${tr.to}`,\n            amount : tr.amount,\n            timestamp: tr.timestamp\n          }\n        })\n      })\n    })\n  }\n\n  showModal = () => {\n    this.setState(\n      { visible : true }\n    )\n  }\n\n  handleOk = e => {\n    console.log(e);\n    this.setState({\n      visible: false,\n    });\n  };\n\n  handleCancel = () => {\n    this.setState({\n      visible: false,\n    });\n  }\n  \n  render() {\n      return (\n        <div style={styles.pageWrapper}>\n            <div>\n                <Button type=\"default\" onClick={this.showModal}>New Transaction</Button>\n            </div><br/>\n            <TransactionsTable dataSource={this.dataSource}/>\n            <Modal\n              title = \"New Transaction\"\n              visible = {this.state.visible}\n              onOk={this.handleOk}\n              onCancel={this.handleCancel}\n              footer={[]}\n            >\n\n              <TransactionForm users={this.state.users} onClear={this.handleCancel}/>\n              \n            </Modal>\n        </div>\n      )\n  }\n\n}\nexport default TransactionPage;\n\nconst styles = {\n    pageWrapper : {\n        display: 'flex',\n        flexDirection: 'column',\n        padding : '0 2.2em',\n    \n        height : '100%',\n        width : '100%',\n        \n    }\n}\n"]},"metadata":{},"sourceType":"module"}